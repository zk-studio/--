<Window x:Class="ScreenshotTranslator.Views.CaptureWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="æˆªå›¾"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        WindowState="Maximized"
        Cursor="Cross"
        ResizeMode="NoResize">

    <Grid x:Name="MainGrid">
        <!-- å±å¹•æˆªå›¾èƒŒæ™¯ -->
        <Image x:Name="BackgroundImage" Stretch="None" />

        <!-- é®ç½©å±‚ -->
        <Canvas x:Name="OverlayCanvas">
            <!-- ä¸Šæ–¹é®ç½© -->
            <Rectangle x:Name="MaskTop" Fill="#80000000" />
            <!-- ä¸‹æ–¹é®ç½© -->
            <Rectangle x:Name="MaskBottom" Fill="#80000000" />
            <!-- å·¦æ–¹é®ç½© -->
            <Rectangle x:Name="MaskLeft" Fill="#80000000" />
            <!-- å³æ–¹é®ç½© -->
            <Rectangle x:Name="MaskRight" Fill="#80000000" />
            <!-- å…¨å±é®ç½©ï¼ˆåˆå§‹çŠ¶æ€ï¼‰ -->
            <Rectangle x:Name="MaskFull" Fill="#80000000" />
        </Canvas>

        <!-- é€‰æ‹©æ¡† -->
        <Canvas x:Name="SelectionCanvas">
            <Border x:Name="SelectionBorder"
                    BorderBrush="#2196F3"
                    BorderThickness="1.5"
                    Visibility="Collapsed">
                <!-- å°ºå¯¸æç¤º -->
                <TextBlock x:Name="SizeText"
                           Foreground="White"
                           FontSize="12"
                           Background="#CC2196F3"
                           Padding="4,2"
                           VerticalAlignment="Top"
                           HorizontalAlignment="Left"
                           Margin="0,-22,0,0" />
            </Border>

            <!-- æ”¾å¤§é•œ -->
            <Border x:Name="MagnifierBorder"
                    Width="140" Height="140"
                    BorderBrush="#2196F3"
                    BorderThickness="2"
                    Background="White"
                    Visibility="Collapsed">
                <Grid>
                    <Image x:Name="MagnifierImage"
                           Stretch="None"
                           RenderTransformOrigin="0.5,0.5">
                        <Image.RenderTransform>
                            <ScaleTransform ScaleX="4" ScaleY="4" />
                        </Image.RenderTransform>
                    </Image>
                    <!-- åå­—çº¿ -->
                    <Line X1="70" Y1="0" X2="70" Y2="140" Stroke="#80FF0000" StrokeThickness="1" />
                    <Line X1="0" Y1="70" X2="140" Y2="70" Stroke="#80FF0000" StrokeThickness="1" />
                    <!-- é¢œè‰²å’Œåæ ‡æç¤º -->
                    <TextBlock x:Name="MagnifierInfo"
                               VerticalAlignment="Bottom"
                               HorizontalAlignment="Center"
                               Foreground="White"
                               FontSize="10"
                               Background="#CC000000"
                               Padding="4,2"
                               Margin="0,0,0,2" />
                </Grid>
            </Border>
        </Canvas>

        <!-- å·¥å…·æ ï¼ˆé€‰æ‹©å®ŒåŒºåŸŸåŽæ˜¾ç¤ºï¼‰ -->
        <Border x:Name="ToolBar"
                Visibility="Collapsed"
                Background="White"
                CornerRadius="4"
                Padding="4"
                Height="40"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Center"
                Margin="0,0,0,60">
            <Border.Effect>
                <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.3" />
            </Border.Effect>
            <StackPanel Orientation="Horizontal">
                <Button Content="âœ“" ToolTip="ç¡®è®¤" Width="32" Height="32"
                        Style="{StaticResource ToolButton}" Click="Confirm_Click" />
                <Button Content="âœ•" ToolTip="å–æ¶ˆ" Width="32" Height="32"
                        Style="{StaticResource ToolButton}" Click="Cancel_Click" />
                <Rectangle Width="1" Fill="#DDDDDD" Margin="4,4" />
                <Button Content="ðŸ“‹" ToolTip="å¤åˆ¶åˆ°å‰ªè´´æ¿" Width="32" Height="32"
                        Style="{StaticResource ToolButton}" Click="CopyToClipboard_Click" />
                <Button Content="ðŸ’¾" ToolTip="ä¿å­˜" Width="32" Height="32"
                        Style="{StaticResource ToolButton}" Click="Save_Click" />
                <Button Content="ðŸ“Œ" ToolTip="é’‰åˆ°æ¡Œé¢" Width="32" Height="32"
                        Style="{StaticResource ToolButton}" Click="Pin_Click" />
                <Rectangle Width="1" Fill="#DDDDDD" Margin="4,4" />
                <Button Content="âœï¸" ToolTip="ç¼–è¾‘æ ‡æ³¨" Width="32" Height="32"
                        Style="{StaticResource ToolButton}" Click="Edit_Click" />
                <Button Content="ðŸ”" ToolTip="OCRè¯†åˆ«" Width="32" Height="32"
                        Style="{StaticResource ToolButton}" Click="Ocr_Click" />
                <Button Content="ðŸŒ" ToolTip="æˆªå›¾ç¿»è¯‘" Width="32" Height="32"
                        Style="{StaticResource ToolButton}" Click="Translate_Click" />
            </StackPanel>
        </Border>
    </Grid>
</Window>
